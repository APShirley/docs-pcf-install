---
title: Understanding Availability Zones in VMware Installations
---

An availability zone (AZ) contributes to the fault tolerance and high availability of a [Pivotal Cloud Foundry](https://network.pivotal.io/products/pivotal-cf) (PCF) deployment. We define an availability zone as a unique set of hardware components separated physically and logically from any other AZ. If you run more than one instance of an application in PCF, Ops Manager balances those instances across the AZs that you [assigned to the Elastic Runtime environment](./vsphere-config.html#az). 

In cases of partial infrastructure failure, PCF distributes all app instances across backup infrastructure segments, as seen in the [example below](./understand-az.html#example-case). 

## <a id="AZes-in-vSphere"></a>Create and Assign Availability Zones in vSphere ##
Elastic Runtime on vSphere support deployment distribution across multiple availability zones. To create and assign availability zones, configure [Ops Manager Director for VMware vSphere](./vsphere-config.html#az) with the unique name of vCenter clusters and resource pools.

## <a id="AZes-in-vCloud-vAir"></a>Single Availability Zone in vCloud and vCloud Air ##
The architecture of VMware vCloud and vCloud Air supports the use of only one AZ, which is set to the virtual data center you access when you configure the <a href="./pcf-vchs-vcloud.html#access-interface">vShield Edge Gateway Services interface</a>. In the cases in which the Ops Manager deployment integrates with either of these products, PCF places all software in the single AZ, the virtual data center.

## <a id="example-case"></a>AZ Balancing During Failure: Example Scenario ##

An operator scales an application to four instances in an Elastic Runtime environment distributed across three availability zones: A1, A2, and A3. The environment allocates the instances according to the [DEA Placement Algorithm](../concepts/architecture/cloud-controller.html#dea-placement):

<%= image_tag("az_er_1.png") %>

If A1 experiences a power outage or hardware failure, the two application instances running in A1 terminate while the application instances in zones A2 and A3 continue to run.

<%= image_tag("az_er_2.png") %>

If A1 remains unavailable, Elastic Runtime balances new instances of the application across the remaining availability zones.

<%= image_tag("az_er_3.png") %>=