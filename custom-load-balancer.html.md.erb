---
title: Using Your Own Load Balancer
---

Pivotal CF uses HAProxy as the default load balancer for SSL termination.
This guide describes how to use your own load balancer and forward traffic to
the Elastic Runtime router IP.

1. Deploy a Pivotal CF Installation virtual machine.
See [Deploying Operations Manager](../customizing/deploying-vm.html) for
more information.

1. In your load balancer, register the IP addresses you assigned to Pivotal CF.

1. Configure your Pivotal Operations Manager and Ops Manager Director for VMware vSphere as described in [Getting Started with Pivotal CF](../getstarted/index.html), then add Elastic Runtime. Do not click
**Install** after adding Elastic Runtime.

1. In Pivotal Operations Manager, click the **Elastic Runtime** tile.

1. In the left column, select **HAProxy** if not already selected.

1. In the **HAProxy IPs** field, delete any existing IP addresses.
This field should be blank.

    <%= image_tag("loadbalancer/delete-haproxy-ip.png") %>

1. If you are using a signed certificate from a known certificate authority,
install the SSL Certificate on your load balancer.
If you are not using a signed certificate, generate a self-signed RSA certificate as described in [Generate an RSA Certificate](../getstarted/index.html#generate_rsa_cert),
then install this certificate on your load balancer.

1. In the left column, select **Router IPs**.

1. In the **Router IPs** field, enter the IP address(es) for Pivotal CF that you registered with your load balancer in Step 2. Save this change.

    <%= image_tag("loadbalancer/add-router.png") %>

1. Click **Install**. Complete installation of your selected products as described in the [Install Products](../getstarted/index.html#install)
section of the Pivotal CF Getting Started Guide.