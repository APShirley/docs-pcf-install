---
title: Installing PCF on GCP
owner: Ops Manager
---

<strong><%= modified_date %></strong>
<html class="list-style-none"></html>

This guide describes how to install Pivotal Cloud Foundry (PCF) on Google Cloud Platform (GCP).

To view production-level deployment options for PCF on GCP, see the [Reference Architecture for Pivotal Cloud Foundry on GCP](../refarch/gcp/gcp_ref_arch.html).

## <a id="prereqs"></a> Prerequisites ##

The following sections describe general requirements for running PCF and specific requirements for running PCF on GCP.

### <a id="general"></a>General Requirements ##

<%= partial 'requirements' %>

### <a id="gcp"></a>GCP Requirements ##

You must have the following to install PCF on GCP:

* A GCP project with sufficient quota to deploy all the VMs needed for a PCF installation. For a list of suggested quotas, see <a class="subnav" href="./gcp-quotas.html">Recommended GCP Quotas</a>.
<br>
<br>
You can request a quota increase on the [GCP Quotas page](https://console.cloud.google.com/compute/quotas).
  
* <a name="#env_account"></a>A GCP account with adequate permissions to create resources within the selected GCP project. Per the [Least Privileged User principle](./iaas-user-roles.html), the permissions required to set up a GCP environment for PCF include:
   * Permissions to create firewalls, networks, load balancers, and other resources:
     * **Compute Engine** > **Compute Instances Admin (beta)**
     * **Compute Engine** > **Compute Network Admin**
     * **Compute Engine** > **Compute Security Admin**
   * If using Google Cloud Storage (GCS) for Cloud Controller file storage, permissions to create buckets:
     * **Storage** > **Storage Admin**
   * If you are using Cloud DNS, permissions to add and modify DNS entries:
     * **Project** > **Editor**
     
  <p class="note"><strong>Note</strong>: When you deploy PCF, the deployment processes run under a [separate service account](./gcp-prepare-env.html#iam_account) with the minimum permissions required to install Ops Manager and ERT.</p>

* The [Google Cloud SDK](https://cloud.google.com/sdk/) installed on your machine and authenticated to your GCP account.
* Sufficiently high VM instance limits, or no instance limits, on your GCP account. The exact number of VMs depends on the number of tiles and availability zones you plan to deploy.
  - **Elastic Runtime**: At a minimum, a new GCP deployment requires the following `custom` VMs for Elastic Runtime:
<table border='1' class='nice'>
  <tr>
    <th rowspan=6>Elastic Runtime and Ops Manager</th>
    <th>VM Count</th>
    <th>vCPU Count per VM</th>
    <th>RAM (GB)</th>
  </tr><tr>
    <td>30</td>
    <td>1</td>
    <td>1</td>
  </tr><tr>
    <td>3</td>
    <td>1</td>
    <td>2</td>
  </tr><tr>
    <td>4</td>
    <td>2</td>
    <td>4</td>
  </tr><tr>
    <td>3</td>
    <td>2</td>
    <td>8</td>
  </tr><tr>
    <td>3</td>
    <td>4</td>
    <td>16</td>
  </tr>
</table>
By default, Elastic Runtime deploys the number of VM instances required to run a highly available configuration of PCF. If you are deploying a test or sandbox PCF that does not require HA, then you can scale down the number of instances in your deployment. For information about the number of instances required to run a minimal, non-HA PCF deployment, see [Scaling Elastic Runtime](../opsguide/scaling-ert-components.html).
  - **Small Footprint Runtime**: To run Small Footprint Runtime, a new GCP deployment requires:
<table id='small-footprint' border="1" class="nice">
  <tr>
    <th></th>
    <th>VM Type</th>
    <th>VM Count</th>
    <th>vCPU Count per VM</th>
    <th>RAM (GB)</th>
    <th>Notes</th>
  </tr><tr>
    <th rowspan=6>Small Footprint Runtime</th>
    <td>micro</td>
    <td>12</td>
    <td>1</td>
    <td>1</td>
    <td>Add 1 to VM count if using HAProxy</td>
  </tr><tr>
    <td>small</td>
    <td>3</td>
    <td>1</td>
    <td>2</td>
    <td></td>
  </tr><tr>
    <td>xlarge.disk</td>
    <td>1</td>
    <td>4</td>
    <td>16</td>
    <td></td>
  </tr><tr>
    <td>xlarge</td>
    <td>1</td>
    <td>4</td>
    <td>16</td>
    <td></td>
  </tr><tr>
    <td>medium.mem</td>
    <td>1</td>
    <td>1</td>
    <td>6</td>
    <td></td>
  </tr><tr>
    <td>large.disk</td>
    <td>1</td>
    <td>2</td>
    <td>8</td>
    <td></td>
  </tr><tr>
    <th rowspan=2>Ops Manager</th>
    <td>large.disk</td>
    <td>1</td>
    <td>2</td>
    <td>8</td>
    <td></td>
  </tr><tr>
    <td>large.cpu</td>
    <td>4</td>
    <td>4</td>
    <td>4</td>
    <td></td>
  </tr>
</table>
	
* Administrative rights to a domain for your PCF installation. You need to be able to add wildcard records to this domain. You specify this registered domain when configuring the SSL certificate and Cloud Controller for your deployment. For more information see the [Providing a Certificate for your SSL Termination Point](../opsguide/security_config.html) topic. </td>
* An SSL certificate for your PCF domain. This can be a self-signed certificate, which Ops Manager can generate for you, but Pivotal recommends using a self-signed certificate for development and testing purposes only. If you plan to deploy PCF into a production environment, you must obtain a certificate from your Certificate Authority. 

## <a id="install_pcf"></a> Install PCF on GCP ##

Complete the following procedures to install PCF on GCP:

1. <a class="subnav" href="./gcp-prepare-env.html">Preparing to Deploy PCF on GCP</a>

1. <a class="subnav" href="./gcp-om-deploy.html">Launching an Ops Manager Director Instance on GCP</a>

1. <a class="subnav" href="./gcp-om-config.html">Configuring Ops Manager Director on GCP</a>

1. <a class="subnav" href="./gcp-shared-vpc.html">(Optional) Configuring a Shared VPC on GCP</a>

1. <a href="http://docs.pivotal.io/addon-ipsec/installing.html">(Optional) Installing the PCF IPsec Add-On</a>

1. <a class="subnav" href="./gcp-er-config.html">Deploying Elastic Runtime on GCP</a>

## <a id="delete_pcf"></a> Delete PCF on GCP ##

You can use the GCP console to remove an installation of all components, but retain the objects in your bucket for a future deployment: 

* <a class="subnav" href="./deleting-gcp-install.html">Deleting a GCP Installation from the Console</a>

## <a id="troubleshooting"></a> Troubleshoot PCF on GCP ##

The troubleshooting document for PCF on GCP infrastructure.

* <a class="subnav" href="./gcp-troubleshooting.html">Troubleshooting PCF on GCP</a>


